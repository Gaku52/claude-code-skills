# ディレクトリ移動と一覧

> ファイルシステムのナビゲーションは CLI の最も基本的なスキル。

## この章で学ぶこと

- [ ] ディレクトリの移動と一覧表示を使いこなせる
- [ ] 絶対パスと相対パスの違いを理解する
- [ ] ls の主要オプションを知る

---

## 1. ディレクトリ操作

```bash
# 基本操作
pwd                      # 現在のディレクトリを表示
cd /path/to/dir          # 絶対パスで移動
cd relative/path         # 相対パスで移動
cd ~                     # ホームディレクトリ
cd -                     # 前のディレクトリに戻る
cd ..                    # 1つ上のディレクトリ
cd ../..                 # 2つ上のディレクトリ

# ディレクトリスタック
pushd /tmp               # 現在地をスタックに保存して移動
pushd /var/log           # さらにスタックに保存して移動
popd                     # スタックから取り出して戻る
dirs -v                  # スタックの内容表示

# zoxide（スマートcd）
# brew install zoxide
# eval "$(zoxide init zsh)"
z projects               # 過去の訪問履歴から最適なディレクトリに移動
zi                       # インタラクティブ選択
```

---

## 2. ファイル一覧（ls）

```bash
# ls の主要オプション
ls                       # ファイル一覧
ls -l                    # 詳細表示（パーミッション、サイズ等）
ls -a                    # 隠しファイル含む
ls -h                    # サイズを人間可読（KB, MB）
ls -t                    # 更新日時順
ls -S                    # ファイルサイズ順
ls -r                    # 逆順
ls -R                    # 再帰的に表示
ls -d */                 # ディレクトリのみ表示

# よく使う組み合わせ
ls -lah                  # 詳細+隠しファイル+人間可読サイズ
ls -lt                   # 更新日時順の詳細表示
ls -lS                   # サイズ順

# モダンな代替ツール
# brew install eza
eza -la --git            # Git状態表示付き
eza --tree --level=2     # ツリー表示

# tree コマンド
tree -L 2                # 深さ2のツリー
tree -I 'node_modules'   # 除外パターン

# ディスク使用量
du -sh *                 # 各ファイル/ディレクトリのサイズ
du -sh . --max-depth=1   # 1階層の合計サイズ
df -h                    # パーティションの使用状況
```

---

## 3. パスの基本

```
絶対パス: ルート(/)から始まる完全なパス
  /home/user/documents/file.txt

相対パス: 現在のディレクトリからの相対位置
  ./documents/file.txt    # 現在のディレクトリの documents
  ../other/file.txt       # 1つ上の other ディレクトリ

特殊なパス:
  ~        → ホームディレクトリ (/home/user)
  .        → 現在のディレクトリ
  ..       → 親ディレクトリ
  -        → 前のディレクトリ（cd 限定）

  $HOME    → ホーム（環境変数）
  $PWD     → 現在のディレクトリ（環境変数）
  $OLDPWD  → 前のディレクトリ（環境変数）
```

---

## まとめ

| コマンド | 用途 |
|---------|------|
| cd | ディレクトリ移動 |
| ls -lah | 詳細一覧表示 |
| tree | ツリー表示 |
| du -sh | ディスク使用量 |
| zoxide (z) | スマート移動 |

---

## 次に読むべきガイド
→ [[01-file-crud.md]] — ファイルの作成・コピー・移動・削除

---

## 参考文献
1. Shotts, W. "The Linux Command Line." 2nd Ed, Ch.2-3, 2019.
