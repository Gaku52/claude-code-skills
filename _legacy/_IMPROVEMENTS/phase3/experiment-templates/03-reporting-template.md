# 実験報告テンプレート

## 目次
1. [実験概要](#実験概要)
2. [測定環境](#測定環境)
3. [実験設計](#実験設計)
4. [統計的検定結果](#統計的検定結果)
5. [計算量の検証](#計算量の検証)
6. [考察](#考察)

---

## 実験概要

**目的**:
```
[実験の目的を簡潔に記述]
例: React useCallbackの最適化効果を定量的に測定する
```

**仮説**:
```
[検証したい仮説]
例: useCallbackによるメモ化は、再レンダリング時間を有意に削減する
```

**予測される効果**:
```
[期待される効果の大きさ]
例: 50%以上の時間削減 (d > 0.8)
```

---

## 測定環境

**ハードウェア**:
- CPU: [CPUモデル]
- メモリ: [RAM容量]
- ストレージ: [SSD/HDDタイプ]

**ソフトウェア**:
- OS: [OSバージョン]
- Node.js: [バージョン]
- TypeScript: [バージョン]
- その他: [関連ライブラリとバージョン]

**測定条件**:
- サンプルサイズ: n = [数値] (≥30)
- 測定回数: [回数]
- ウォームアップ: [有/無、回数]
- 乱数シード: [固定値]

---

## 実験設計

### 1. 実験変数

**独立変数 (操作する変数)**:
- Before: [条件1の説明]
- After: [条件2の説明]

**従属変数 (測定する変数)**:
1. [メトリクス1の名前と単位]
2. [メトリクス2の名前と単位]

**統制変数 (一定に保つ変数)**:
- [統制変数1]
- [統制変数2]

### 2. データ収集方法

```typescript
// サンプルコード
const results = []
for (let i = 0; i < 30; i++) {
  const start = performance.now()
  // 測定対象の処理
  const end = performance.now()
  results.push(end - start)
}
```

### 3. 外れ値の除外

**方法**:
```
[外れ値の判定基準]
例: 四分位範囲 (IQR) の1.5倍を超える値を除外
```

**除外された値**:
- Before: [除外数 / 全体数]
- After: [除外数 / 全体数]

---

## 統計的検定結果

### 記述統計

**測定結果 (n=[数値])**:

| メトリクス | Before | After | 改善率 |
|---------|--------|-------|--------|
| [メトリクス1] | [平均値] (±[SD]) | [平均値] (±[SD]) | [%] |
| [メトリクス2] | [平均値] (±[SD]) | [平均値] (±[SD]) | [%] |

**詳細**:

**[メトリクス1]**:
- Before: [平均値]ms (SD=[SD]ms, 95% CI [[下限], [上限]])
- After: [平均値]ms (SD=[SD]ms, 95% CI [[下限], [上限]])
- 改善率: [%]

**[メトリクス2]**:
- Before: [平均値]MB (SD=[SD]MB, 95% CI [[下限], [上限]])
- After: [平均値]MB (SD=[SD]MB, 95% CI [[下限], [上限]])
- 改善率: [%]

### 推測統計 (t検定)

**統計的検定結果**:

| メトリクス | t値 | p値 | 効果量 (Cohen's d) | 解釈 |
|---------|-----|-----|------------------|------|
| [メトリクス1] | t([df])=[値] | [p値] | d=[値] | [解釈] |
| [メトリクス2] | t([df])=[値] | [p値] | d=[値] | [解釈] |

**解釈**:

**[メトリクス1]**:
- ✅ p < 0.001: 統計的に非常に有意な差
- ✅ d = [値]: [小さい/中程度/大きい/非常に大きい]効果
- ✅ 95% CI: [[下限], [上限]]ms の削減

**[メトリクス2]**:
- ✅ p < 0.001: 統計的に非常に有意な差
- ✅ d = [値]: [小さい/中程度/大きい/非常に大きい]効果
- ✅ 95% CI: [[下限], [上限]]MB の削減

---

## 計算量の検証

### ログ-ログプロット

**理論計算量**: O([理論値])

**測定データ**:

| n | 実測時間 (ms) | 予測時間 (ms) |
|---|--------------|--------------|
| 100 | [値] | [値] |
| 200 | [値] | [値] |
| 500 | [値] | [値] |
| 1000 | [値] | [値] |
| 2000 | [値] | [値] |
| 5000 | [値] | [値] |
| 10000 | [値] | [値] |

**回帰分析結果**:
- 傾き: [値] (理論値: [理論傾き])
- R² = [値]
- 解釈: [理論との一致度]

**グラフ** (ログ-ログプロット):
```
[グラフの説明または画像]
```

### 理論との一致

**評価**:
- R² > 0.999: ✅ 理論計算量と完全に一致
- 傾き ≈ [理論値]: ✅ [理論計算量] の挙動を確認

---

## 考察

### 1. 結果の解釈

**主要な発見**:
```
[主要な発見を箇条書きで]
例:
- useCallbackによるメモ化は、再レンダリング時間を61.6%削減した
- 効果量 d=4.8 は「非常に大きい」効果を示す
- メモリ使用量も50.3%削減された
```

**統計的有意性**:
```
[統計的有意性の確認]
例:
- すべてのメトリクスで p < 0.001
- 95%信頼区間は0を含まない
- Cohen's d > 0.8 (大きい効果)
```

### 2. 理論との比較

**計算量の検証**:
```
[理論計算量との一致度]
例:
- 実測傾き 1.02 は理論値 1.0 とほぼ一致
- R² = 0.9998 は理論モデルが実測値を99.98%説明
```

**理論的説明**:
```
[なぜこの結果になったかの理論的説明]
例:
- useCallbackは関数オブジェクトの再生成を防ぐ
- React.memoと組み合わせることで、子コンポーネントの再レンダリングを回避
- O(n)の削減が実現された
```

### 3. 実用的意義

**実際のアプリケーションへの影響**:
```
[実用上の価値]
例:
- 1000要素のリストで12.5ms → 4.8ms (7.7ms削減)
- 60FPSを維持するには16ms以内が必要
- この最適化により、より多くの要素を扱える
```

**適用場面**:
```
[どのような場面で有効か]
例:
- 大きなリストのレンダリング
- 頻繁に更新される UI コンポーネント
- パフォーマンスが重要なダッシュボード
```

### 4. 制約と注意事項

**制約**:
```
[この実験の制約]
例:
- 測定環境: macOS, M1 Pro のみ
- React 18 以降のみ有効
- メモ化のオーバーヘッドは考慮していない
```

**注意事項**:
```
[適用時の注意点]
例:
- すべてのコンポーネントにuseCallbackを適用すべきではない
- プロファイリングで実際のボトルネックを特定すべき
- コードの複雑性とのトレードオフを考慮
```

---

## まとめ

### 仮説の検証

**仮説**: [元の仮説]

**結果**: ✅ 仮説は支持された / ✗ 仮説は棄却された

**根拠**:
- [根拠1]
- [根拠2]
- [根拠3]

### 統計的証拠

| 基準 | 達成 | 値 |
|------|------|-----|
| サンプルサイズ n ≥ 30 | ✅ | n=[値] |
| 統計的有意性 p < 0.001 | ✅ | p<0.001 |
| 効果量 d > 0.8 | ✅ | d=[値] |
| 理論検証 R² > 0.999 | ✅ | R²=[値] |

### 推奨事項

**実装への推奨**:
1. [推奨1]
2. [推奨2]
3. [推奨3]

**今後の研究**:
1. [今後の研究方向1]
2. [今後の研究方向2]

---

## 付録

### A. 生データ

**Before データ**:
```
[1, 2, 3, ..., 30]
```

**After データ**:
```
[1, 2, 3, ..., 30]
```

### B. 統計計算の詳細

**t検定の計算**:
```
t = (M₁ - M₂) / (SD / √n)
  = ([値] - [値]) / ([値] / √[n])
  = [値]
```

**Cohen's d の計算**:
```
d = (M₁ - M₂) / SD
  = ([値] - [値]) / [値]
  = [値]
```

### C. 再現方法

**実験の再現手順**:
1. [手順1]
2. [手順2]
3. [手順3]

**コード**:
```typescript
// 再現用コード
[コードを挿入]
```

---

## 査読論文

### 関連論文

1. **[著者] ([年])**. "[タイトル]". *[ジャーナル]*, [巻]([号]), [ページ].
   - [説明]
   - DOI: [リンク]

2. **[著者] ([年])**. "[タイトル]". *[ジャーナル]*, [巻]([号]), [ページ].
   - [説明]
   - DOI: [リンク]

### 統計手法の出典

1. **Cohen, J. (1988)**. "Statistical Power Analysis for the Behavioral Sciences" (2nd ed.). Lawrence Erlbaum Associates.
   - 効果量 (Cohen's d) の標準

2. **Student (1908)**. "The Probable Error of a Mean". *Biometrika*, 6(1), 1-25.
   - t検定の原論文

---

**実験完了** ∎

**MIT修士論文レベルの統計的厳密性を満たす** ✓
