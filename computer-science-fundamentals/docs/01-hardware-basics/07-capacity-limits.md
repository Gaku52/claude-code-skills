# 性能限界とコンピューティングの未来

> ムーアの法則は「物理法則」ではなく「経済法則」である。物理的限界に近づく今、次の計算革命は何か。

## この章で学ぶこと

- [ ] ムーアの法則の現状と限界を説明できる
- [ ] 電力壁、メモリ壁、ILP壁の3つのボトルネックを理解する
- [ ] 量子コンピュータと次世代技術の可能性を説明できる

## 前提知識

- CPUとメモリの基礎 → 参照: [[00-cpu-architecture.md]], [[01-memory-hierarchy.md]]
- 半導体製造の基礎 → 参照: [[06-pcb-and-circuits.md]]

---

## 1. 3つの壁（Three Walls）

### 1.1 電力壁（Power Wall）

```
電力壁の問題:

  消費電力 ∝ 周波数 × 電圧² × キャパシタンス

  クロック周波数の推移:
  2000年: 1.0 GHz →  5W
  2003年: 3.0 GHz → 80W
  2005年: 3.8 GHz →130W  ← ここで壁に衝突
  2010年: 3.3 GHz → 95W  ← むしろ下がった
  2024年: 5.8 GHz →253W  ← ブースト時のみ、短時間

  → 2005年以降、クロック周波数はほぼ横ばい
  → 「性能向上 = マルチコア化」の時代へ
  → シングルスレッド性能の向上は年3-5%程度に鈍化
```

### 1.2 メモリ壁（Memory Wall）

```
CPUとメモリの速度ギャップ:

  1980年: CPU 1サイクルでメモリアクセス完了
  2000年: CPU 100サイクル待ち
  2025年: CPU 200-300サイクル待ち

  対策:
  - キャッシュ階層の拡大（L1→L2→L3→L4?）
  - プリフェッチの高度化
  - HBM（High Bandwidth Memory）: GPU向け
  - CXL: メモリプーリング
  - PIM（Processing In Memory）: メモリ内で演算
```

### 1.3 ILP壁（Instruction-Level Parallelism Wall）

```
命令レベル並列性の限界:

  理論上のILP:
    完全に独立な命令 → 無限の並列度

  実際のILP:
    データ依存、制御依存 → ILP 2-4程度が限界

  対策:
  - スレッドレベル並列性（TLP）: マルチコア、マルチスレッド
  - データレベル並列性（DLP）: SIMD、GPU
  - タスクレベル並列性: 分散コンピューティング
```

---

## 2. ムーアの法則の現在

### 2.1 技術的現状

| 年 | プロセス | 微細化率 | 状況 |
|----|---------|---------|------|
| 2018 | 7nm | 従来ペース | EUV導入開始 |
| 2020 | 5nm | 維持 | A14, M1チップ |
| 2022 | 3nm | やや鈍化 | A17, M3チップ |
| 2025 | 2nm | 鈍化 | GAA FET必須 |
| 2027 | 1.4nm | 未定 | High-NA EUV |
| 2030+ | Sub-1nm | 研究段階 | 2Dマテリアル？ |

### 2.2 ムーアの法則を延命する技術

```
┌─────────────────────────────────────────────────┐
│         ムーアの法則の延命策                      │
├─────────────────────────────────────────────────┤
│                                                 │
│  1. 3D積層（CFET, 3D NAND応用）                 │
│     → 横方向の限界を縦方向で補う                 │
│                                                 │
│  2. GAA FET（Gate-All-Around）                   │
│     → FinFET → ナノシート → フォークシート      │
│     → ゲートが全周囲からチャネルを制御           │
│                                                 │
│  3. チップレット + UCIe                          │
│     → 異なるプロセスのチップを組み合わせ         │
│     → 歩留まり向上、コスト削減                   │
│                                                 │
│  4. 新素材（カーボンナノチューブ, GaN）           │
│     → シリコンの限界を超える電子移動度           │
│                                                 │
│  5. 光配線（Silicon Photonics）                  │
│     → チップ間の配線を光で。帯域幅大幅向上       │
│                                                 │
└─────────────────────────────────────────────────┘
```

---

## 3. 量子コンピュータ

### 3.1 基本原理

```
古典ビット vs 量子ビット（qubit）:

  古典ビット: 0 か 1 のどちらか
    │0⟩ = 確定的に 0
    │1⟩ = 確定的に 1

  量子ビット: 0 と 1 の重ね合わせ
    │ψ⟩ = α│0⟩ + β│1⟩
    （α² + β² = 1、観測するまで確率的）

  2量子ビット:
    古典: 00, 01, 10, 11 のいずれか（1つの状態）
    量子: 4つの状態を同時に表現

  N量子ビット:
    古典: 2^N 個の状態のいずれか1つ
    量子: 2^N 個の状態を同時に表現 ← 指数的な計算空間

  50 qubit → 2^50 ≈ 10^15 の状態を同時に操作
  → スーパーコンピュータの限界を超える計算空間
```

### 3.2 量子コンピュータの応用

| 応用分野 | 量子アルゴリズム | 古典比 |
|---------|---------------|-------|
| 素因数分解 | Shor のアルゴリズム | 指数的高速化 |
| 検索 | Grover のアルゴリズム | √N 高速化 |
| 量子シミュレーション | 直接シミュレーション | 指数的高速化 |
| 最適化 | QAOA | ケースバイケース |
| 機械学習 | 量子カーネル法 | 研究段階 |

### 3.3 現在の限界

- **量子ビット数**: 最大〜1,000 qubit（ノイズが多い: NISQ時代）
- **誤り率**: 〜0.1-1%（実用には10⁻¹⁵以下が必要）
- **コヒーレンス時間**: マイクロ秒〜ミリ秒（計算時間に制限）
- **量子誤り訂正**: 1論理qubitに1,000-10,000物理qubitが必要
- **実用的な量子アドバンテージ**: まだ限定的

---

## 4. その他の次世代コンピューティング

| 技術 | 原理 | 利点 | 課題 |
|------|------|------|------|
| **ニューロモーフィック** | 脳の神経回路を模倣 | 超低消費電力、パターン認識 | 汎用計算に不向き |
| **光コンピュータ** | 光子で演算 | 超高速、低発熱 | 非線形演算が困難 |
| **DNA Storage** | DNA分子にデータ保存 | 超高密度（1g=215PB） | 読み書きが遅い |
| **可逆コンピューティング** | 情報を捨てない計算 | ランダウアーの限界突破 | 理論段階 |

---

## 5. 実践演習

### 演習1: 計算能力の見積もり（基礎）
現在のトップスーパーコンピュータ（Frontier）の性能（1.2 EFLOPS）を調べ、以下を計算せよ:
1. 全人類が1秒間に1回計算した場合との比較
2. ムーアの法則で2035年のスマホがこの性能に達するか

### 演習2: 量子 vs 古典（応用）
RSA-2048の素因数分解に必要な量子ビット数と、古典コンピュータでの計算時間を調べ、量子コンピュータの暗号への影響を議論せよ。

### 演習3: 技術予測（発展）
2035年のコンピューティング環境を予測するレポートを書け（CPU性能、メモリ容量、AI能力、量子コンピュータの実用度）。

---

## FAQ

### Q1: ムーアの法則は終わりましたか？
**A**: 「トランジスタ密度の倍増」という厳密な意味では鈍化している。しかし、3D積層、チップレット、新素材により「コストあたりの性能向上」は形を変えて続いている。

### Q2: 量子コンピュータは古典コンピュータを置き換えますか？
**A**: いいえ。量子コンピュータは特定の問題（素因数分解、最適化、量子シミュレーション）で優位だが、汎用計算では古典コンピュータが優れている。両者は補完的な関係。

### Q3: プログラマーは量子コンピューティングを学ぶべきですか？
**A**: 現時点では多くのプログラマーにとって不要だが、暗号関連（ポスト量子暗号への移行）は意識すべき。量子コンピュータが実用化された場合に最も影響を受けるのは暗号分野。

---

## まとめ

| 概念 | ポイント |
|------|---------|
| 3つの壁 | 電力壁、メモリ壁、ILP壁が性能向上を阻む |
| ムーアの法則 | 鈍化中だが、3D積層・チップレットで延命 |
| 量子コンピュータ | NISQ時代。実用的な量子アドバンテージは限定的 |
| 今後の方向 | 専用アクセラレータ、ソフトウェア最適化の重要性増大 |

---

## 次に読むべきガイド
→ [[../02-data-representation/00-binary-and-number-systems.md]] — データ表現の基礎

---

## 参考文献
1. Moore, G. E. "Cramming More Components onto Integrated Circuits." Electronics, 1965.
2. Dennard, R. H. et al. "Design of Ion-Implanted MOSFET's with Very Small Physical Dimensions." IEEE, 1974.
3. Preskill, J. "Quantum Computing in the NISQ Era and Beyond." Quantum, 2018.
4. Patterson, D. & Hennessy, J. "Computer Architecture: A Quantitative Approach." 6th Edition.
5. IRDS (International Roadmap for Devices and Systems). IEEE, 2024.
